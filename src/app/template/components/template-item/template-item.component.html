<div #parentDiv class="box-mode" (click)="detectIsMissing()" [class.showToolTip]="isHover" [class.locked]="isLocked"
  [draggable]="isPPro()" (drag)="handleDrag($event)" (mouseup)="handleViewMouseUp($event)" (mousedown)="handleViewMouseDown($event)"
  (dragend)="handleDragend($event)" (dragstart)="handleDragstart($event)" (addItem)="handleAddItemEvent()"
  [class.dragging]="draged">
  <div class="item-display" [ngStyle]="{'height.px': previewHeight , 'background-image': 'url(' + defaultBackground + ')' }">
    <div class="item-overlay" (mouseout)="videoStoped()"></div>
    <div class="item-extension-thumbnail"><span>{{getItemExtension() | uppercase}}</span></div>
    <img #previewImg class="thumbnail-image" (mouseover)="videoHovered()" (mousemove)="imageSequences($event)"
      (mouseout)="videoStoped(1)" onerror="this.src='./assets/transparent.png'" alt="" style="visibility: hidden;"
      draggable="false" />
    <div class="loading" *ngIf="loadingPreviewVideo">
      <img src="./assets/loading.gif">
    </div>
    <div class="bar" #barDiv></div>
    <div class="item-lock" *ngIf="isLocked" (click)="openItemLink()">
      <div class="lock locked">
        <span>
          <div class="lock-desc">Buy</div>
        </span>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="1831 -1506 8.645 10.373">
          <g transform="translate(1705 -2349)">
            <path d="M2.513,2.809V4.322H1.864A.864.864,0,0,0,1,5.187V9.509a.864.864,0,0,0,.864.864H8.78a.864.864,0,0,0,.864-.864V5.187a.864.864,0,0,0-.864-.864H8.132V2.809a2.809,2.809,0,0,0-5.619,0ZM3.593,4.322V2.809a1.729,1.729,0,0,1,3.458,0V4.322ZM4.458,6.7a.864.864,0,1,1,1.334.726s.085.51.179,1.111a.324.324,0,0,1-.324.324H5a.324.324,0,0,1-.324-.324l.179-1.111a.865.865,0,0,1-.4-.726Z"
              transform="translate(125 843)" />
          </g>
        </svg>
      </div>
    </div>
  </div>
  <div class="item-meta">
    <div>
      <div class="item-title">
        <div class="title" (mouseenter)="titleMouseEnter();" (mouseleave)="titleMouseLeave();">{{getItemName()}}</div>
        <mf-tooltip [show]="isHover" [message]="this.title" [parentName]="'mf-template-item'" [haveTopArrow]="true"
          [fontSize]="10" [maxWidth]="120"></mf-tooltip>
      </div>

      <div class="item-extension">
        <div class="extension">{{getItemExtension()}}</div>
      </div>

    </div>
    <div>

      <div class="item-duration">
        <div class="duration">{{duration}}</div>
      </div>

      <div class="item-favorite">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="3378.356 -2619.759 11.217 10.717">
          <g transform="translate(3378.356 -2619.759)">
            <path class="favorite-svg" d="M5.608,0,7.52,3.282l3.7.816L8.692,6.945l.379,3.772L5.608,9.193,2.146,10.717l.379-3.772L0,4.1l3.7-.816Z"
              transform="translate(0 0)" />
          </g>
        </svg>
      </div>

    </div>
  </div>

  <div class="item-info" (click)="openPopUp()" *ngIf="!isLocked && !isMissing">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="3377.934 -2717 11.243 11.243">
      <g class="info-svg" transform="translate(3270 -2344)">
        <path class="information-svg" d="M10.622,5a5.622,5.622,0,1,0,5.622,5.622A5.62,5.62,0,0,0,10.622,5ZM9.951,6.885a.826.826,0,0,1,.607-.252.813.813,0,0,1,.6.252.8.8,0,0,1,.251.6.854.854,0,0,1-1.708,0A.8.8,0,0,1,9.951,6.885Zm2.2,7.461H9.215v-.487h.324a.471.471,0,0,0,.366-.12.621.621,0,0,0,.11-.418V10.489a.535.535,0,0,0-.157-.413.589.589,0,0,0-.425-.145H9.215V9.456l2.173-.1v4.152a.326.326,0,0,0,.1.26.517.517,0,0,0,.329.089h.329v.487Z"
          transform="translate(102.934 -378)" />
      </g>
    </svg>
  </div>

  <div class="item-info missing-icon" (click)="openMissFilePopUp()" *ngIf="isMissing" (mouseenter)="showMissFileToolTip()"
    (mouseleave)="hideMissFileToolTip()">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.273 11.955">
      <path id="Path_3968" data-name="Path 3968" class="Warning-svg" d="M19.664,20.294l-4.913-8.51a1.724,1.724,0,0,0-2.985,0l-4.913,8.51A1.724,1.724,0,0,0,8.346,22.88h9.826a1.723,1.723,0,0,0,1.493-2.585Zm-5.882.233a.5.5,0,0,1-.5.5h-.027a.5.5,0,0,1-.5-.5V20.5a.5.5,0,0,1,.5-.5h.027a.5.5,0,0,1,.5.5ZM13.755,19a.5.5,0,1,1-.993,0l-.322-4.509c0-.274.544-.6.819-.6s.819.33.819.6Z"
        transform="translate(-6.622 -10.924)" />
    </svg>
    <mf-tooltip class="tooltip-title" [show]="showMissTooltip" [message]="'File Has Been Missed'" [parentName]="'mf-template-item'"
      [haveTopArrow]="true" [fontSize]="10" [maxWidth]="70"></mf-tooltip>
  </div>


</div>