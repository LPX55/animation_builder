<!-- <ng-container *ngIf="!isLoggedin; else showList">
  <div class="body">
  <mf-register *ngIf="currentPage === 'register'"></mf-register>
  <mf-login *ngIf="currentPage === 'login'"></mf-login>
  <mf-forgot-password
    *ngIf="currentPage === 'forgot-password'"
  ></mf-forgot-password>
</ng-container> -->
<div class="template-list-container">
  <div class="template-header" *ngIf="!browsingPack">
    <span>
      <a class="active">Local Files</a>
    </span>
    <span hidden>
      <a routerLinkActive="active" routerLink="/favorite">Favorite</a>
    </span>
    <div class="icon-container">
      <div class="add-folder" (click)="addFolder()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.035 17.006">
          <g transform="translate(-467.184 -109)">
            <g transform="translate(402.23 684.195)">
              <g transform="translate(69.838 -575.195)">
                <g transform="translate(0 0)">
                  <path
                    d="M14.9,19h3.813a.9.9,0,0,1,.718.359l.808,1.077h0a.9.9,0,0,0,.718.359h8.3a.9.9,0,0,1,.9.9V30.4h0a.9.9,0,0,1-.9.9H14.9a.9.9,0,0,1-.9-.9V19.9h0A.9.9,0,0,1,14.9,19Z"
                    transform="translate(-14 -19)"
                  />
                </g>
              </g>
            </g>
            <g transform="translate(465.059 123.496)">
              <path
                class="path-3"
                d="M 8.549263954162598 2.010177135467529 C 8.330463409423828 2.010177135467529 8.116253852844238 1.961577177047729 7.912583351135254 1.865717172622681 C 7.710443496704102 1.770607233047485 7.529253482818604 1.629107236862183 7.374053478240967 1.445167183876038 C 7.22386360168457 1.267167210578918 7.104943752288818 1.045917272567749 7.020583629608154 0.7875572443008423 C 6.939923763275146 0.5405572056770325 6.899023532867432 0.2581772208213806 6.899023532867432 -0.0517127737402916 L 6.899023532867432 -2.300172805786133 L 4.686893463134766 -2.300172805786133 C 4.376973628997803 -2.300172805786133 4.094593524932861 -2.341072797775269 3.847593545913696 -2.421732664108276 C 3.589243650436401 -2.50609278678894 3.36798357963562 -2.625022888183594 3.189983606338501 -2.775232791900635 C 3.006083488464355 -2.93038272857666 2.864583492279053 -3.11158275604248 2.769453525543213 -3.313742876052856 C 2.673603534698486 -3.517392873764038 2.625003576278687 -3.731602668762207 2.625003576278687 -3.950402736663818 C 2.625003576278687 -4.171342849731445 2.676533460617065 -4.389452934265137 2.77816367149353 -4.598682880401611 C 2.878323554992676 -4.804892539978027 3.024963617324829 -4.987882614135742 3.214003562927246 -5.142542839050293 C 3.393003463745117 -5.289022922515869 3.61444354057312 -5.407722949981689 3.872153520584106 -5.495322704315186 C 4.124923706054688 -5.581272602081299 4.415343761444092 -5.624852657318115 4.735323429107666 -5.624852657318115 L 6.899023532867432 -5.624852657318115 L 6.899023532867432 -7.885412693023682 C 6.899023532867432 -9.221202850341797 7.737553596496582 -9.819122314453125 8.568573951721191 -9.819122314453125 L 8.59653377532959 -9.818872451782227 C 9.406473159790039 -9.804582595825195 10.22371387481689 -9.272333145141602 10.22371387481689 -8.115462303161621 L 10.22371387481689 -5.624852657318115 L 12.75064373016357 -5.624852657318115 C 13.95512390136719 -5.624852657318115 14.58532333374023 -4.799842834472656 14.58532333374023 -3.984872817993164 C 14.58532333374023 -3.188032865524292 13.83184337615967 -2.300172805786133 12.75064373016357 -2.300172805786133 L 10.22371387481689 -2.300172805786133 L 10.22371387481689 -0.1001427695155144 C 10.22371387481689 0.2198372334241867 10.18013381958008 0.5102572441101074 10.09418392181396 0.7630472183227539 C 10.00657367706299 1.020727276802063 9.887883186340332 1.242157220840454 9.741403579711914 1.421187281608582 C 9.586723327636719 1.610237240791321 9.403743743896484 1.756867170333862 9.19753360748291 1.857027173042297 C 8.988293647766113 1.95864725112915 8.770183563232422 2.010177135467529 8.549263954162598 2.010177135467529 Z"
              />
              <path
                class="path-4"
                d="M 8.549263954162598 1.510177254676819 C 8.694553375244141 1.510177254676819 8.837823867797852 1.475877285003662 8.979084014892578 1.407267212867737 C 9.120343208312988 1.338657259941101 9.245453834533691 1.237757205963135 9.354423522949219 1.10457718372345 C 9.463393211364746 0.9713872075080872 9.552183151245117 0.8038972020149231 9.620793342590332 0.60209721326828 C 9.689403533935547 0.4003072381019592 9.723713874816895 0.1662272214889526 9.723713874816895 -0.1001427695155144 L 9.723713874816895 -2.800172805786133 C 9.723713874816895 -2.800172805786133 11.96767330169678 -2.800172805786133 12.75064373016357 -2.800172805786133 C 13.53361320495605 -2.800172805786133 14.08532333374023 -3.450262784957886 14.08532333374023 -3.984872817993164 C 14.08532333374023 -4.519482612609863 13.68175315856934 -5.124852657318115 12.75064373016357 -5.124852657318115 C 11.8195333480835 -5.124852657318115 9.723713874816895 -5.124852657318115 9.723713874816895 -5.124852657318115 C 9.723713874816895 -5.124852657318115 9.723713874816895 -7.121792793273926 9.723713874816895 -8.115462303161621 C 9.723713874816895 -9.109132766723633 8.991253852844238 -9.311832427978516 8.587723731994629 -9.318952560424805 C 8.581418037414551 -9.319064140319824 8.57505989074707 -9.319120407104492 8.568572998046875 -9.319120407104492 C 8.159879684448242 -9.319120407104492 7.399023532867432 -9.092177391052246 7.399023532867432 -7.885412693023682 C 7.399023532867432 -6.659492969512939 7.399023532867432 -5.124852657318115 7.399023532867432 -5.124852657318115 L 4.735323429107666 -5.124852657318115 C 4.468963623046875 -5.124852657318115 4.23487377166748 -5.090542793273926 4.033083438873291 -5.021932601928711 C 3.831283569335938 -4.953332901000977 3.663793563842773 -4.864542961120605 3.530613660812378 -4.755562782287598 C 3.397423505783081 -4.646592617034912 3.296523571014404 -4.521482944488525 3.227913618087769 -4.380222797393799 C 3.159303665161133 -4.238972663879395 3.125003576278687 -4.09569263458252 3.125003576278687 -3.950402736663818 C 3.125003576278687 -3.805112838745117 3.157283544540405 -3.663852691650391 3.221863508224487 -3.526632785797119 C 3.286433458328247 -3.389412879943848 3.383303642272949 -3.266312837600708 3.512453556060791 -3.157352685928345 C 3.641593456268311 -3.048372745513916 3.805053472518921 -2.961602687835693 4.002813339233398 -2.897032737731934 C 4.200563430786133 -2.832452774047852 4.428603649139404 -2.800172805786133 4.686893463134766 -2.800172805786133 L 7.399023532867432 -2.800172805786133 L 7.399023532867432 -0.0517127737402916 C 7.399023532867432 0.2065772265195847 7.431313514709473 0.4346072375774384 7.495893478393555 0.6323672533035278 C 7.560463428497314 0.8301272392272949 7.647233486175537 0.9935872554779053 7.756203651428223 1.122737169265747 C 7.86517333984375 1.251887202262878 7.988273620605469 1.348747253417969 8.125494003295898 1.413317203521729 C 8.262713432312012 1.4778972864151 8.403964042663574 1.510177254676819 8.549263954162598 1.510177254676819 M 8.549263954162598 2.510177135467529 C 8.256293296813965 2.510177135467529 7.970443725585938 2.445557117462158 7.699663639068604 2.318117141723633 C 7.431983470916748 2.19215726852417 7.193843364715576 2.006937265396118 6.991913795471191 1.76760721206665 C 6.799993515014648 1.540147185325623 6.649723529815674 1.262617230415344 6.545283794403076 0.9427472352981567 C 6.448233604431152 0.6455772519111633 6.399023532867432 0.3109772205352783 6.399023532867432 -0.0517127737402916 L 6.399023532867432 -1.800172805786133 L 4.686893463134766 -1.800172805786133 C 4.324173450469971 -1.800172805786133 3.989563465118408 -1.849382758140564 3.692373514175415 -1.946442723274231 C 3.372523546218872 -2.050872802734375 3.094983577728271 -2.201162815093994 2.867523670196533 -2.393112659454346 C 2.628263473510742 -2.59496283531189 2.443023681640625 -2.833112716674805 2.317033529281616 -3.100862741470337 C 2.189623594284058 -3.371582746505737 2.125003576278687 -3.657432794570923 2.125003576278687 -3.950402736663818 C 2.125003576278687 -4.247653007507324 2.193443536758423 -4.539272785186768 2.328413486480713 -4.817142963409424 C 2.460443496704102 -5.088972568511963 2.651873588562012 -5.328662872314453 2.897383689880371 -5.529532909393311 C 3.122833490371704 -5.71400260925293 3.396663665771484 -5.86179256439209 3.711233615875244 -5.968722820281982 C 4.015913486480713 -6.072312831878662 4.360483646392822 -6.124852657318115 4.735323429107666 -6.124852657318115 L 6.399023532867432 -6.124852657318115 L 6.399023532867432 -7.885412693023682 C 6.399023532867432 -9.55753231048584 7.523653507232666 -10.31912231445313 8.568573951721191 -10.31912231445313 C 8.580973625183105 -10.31912231445313 8.593103408813477 -10.31901264190674 8.605154037475586 -10.31880283355713 C 9.62562370300293 -10.3007926940918 10.72371387481689 -9.603622436523438 10.72371387481689 -8.115462303161621 L 10.72371387481689 -6.124852657318115 L 12.75064373016357 -6.124852657318115 C 14.26707363128662 -6.124852657318115 15.08532333374023 -5.022282600402832 15.08532333374023 -3.984872817993164 C 15.08532333374023 -2.951542854309082 14.12650394439697 -1.800172805786133 12.75064373016357 -1.800172805786133 L 10.72371387481689 -1.800172805786133 L 10.72371387481689 -0.1001427695155144 C 10.72371387481689 0.2746972143650055 10.67117404937744 0.6192672252655029 10.56756401062012 0.92400723695755 C 10.46063327789307 1.238507270812988 10.31287384033203 1.512317180633545 10.12839317321777 1.737807273864746 C 9.92750358581543 1.983327269554138 9.687813758850098 2.174747228622437 9.415973663330078 2.306777238845825 C 9.138103485107422 2.441747188568115 8.846493721008301 2.510177135467529 8.549263954162598 2.510177135467529 Z"
              />
            </g>
          </g>
        </svg>
      </div>
      <div class="search" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.54 12.162">
          <g transform="translate(-68.552 -25.609)">
            <path
              d="M15.026,12.015,12.818,9.807a5.224,5.224,0,1,0-1.123.948l2.3,2.3a.723.723,0,0,0,1.023,0A.719.719,0,0,0,15.026,12.015ZM5.159,6.327a3.761,3.761,0,1,1,3.767,3.767A3.772,3.772,0,0,1,5.159,6.327Z"
              transform="translate(64.852 24.51)"
            />
          </g>
        </svg>
      </div>
    </div>
  </div>
  <div class="pack-detail-header" *ngIf="browsingPack">
    <div class="go-back">
      <img src="./assets/back-icon.svg" (click)="goBack()" />
      <span class="home" (click)="goToPart(-1)"> Home</span>
      <span
        *ngFor="let part of fileBrowserStack; let index = index"
        (click)="goToPart(index)"
      >
        <span class="separator"> / </span> {{ part.packName }}
      </span>
    </div>
  </div>
  <div class="item-list">
    <div
      class="empty-label"
      *ngIf="
        !packsAndFiles.packs.length &&
        !packsAndFiles.files.length &&
        !addedFolder
      "
    >
      <div>
        No Files or Folders!
        <span *ngIf="!browsingPack"><br />Import Your first Folder</span>
      </div>
    </div>
    <div class="items" #itemsHolder>
      <mf-added-folder
        [ngStyle]="{
          'width.px': templateItemWidth,
          'height.px': templateItemHeight,
          'margin-right.px': templateItemMargin
        }"
        [@zooming]="{
          value: zooming,
          params: {
            templateItemWidth: templateItemWidth,
            templateItemHeight: templateItemHeight
          }
        }"
        *ngIf="addedFolder"
      ></mf-added-folder>
      <mf-template-pack
        (isMissingIconClicked)="missingIconClicked($event)"
        *ngFor="let pack of packsAndFiles.packs"
        [class.default-files]="pack.isDefaultFiles"
        [pack]="pack"
        (browsePack)="
          browsePack($event, {
            packID: pack.id,
            packPath: pack.packPath,
            packName: pack.packName,
            buyLink: pack.buyLink
          })
        "
        [ngStyle]="{
          'width.px': templateItemWidth,
          'height.px': templateItemHeight,
          'margin-right.px': templateItemMargin
        }"
        [style.background-color]="pack.packViewMode === '' ? '#191919' : ''"
      >
      </mf-template-pack>
      <mf-template-item
        (isMissingIconClicked)="missingIconClicked($event)"
        *ngFor="let item of packsAndFiles.files; let index = index"
        [id]="item.itemPath"
        [item]="item"
        [categoryName]="''"
        (buyClick)="buyClick()"
        [ngStyle]="{
          'width.px': templateItemWidth,
          'height.px': templateItemHeight,
          'margin-right.px': templateItemMargin
        }"
        [previewHeight]="templateItemPreviewHeight"
      ></mf-template-item>
    </div>
  </div>
  <mf-information
    *ngIf="isPopUpOpen"
    [popUpDetails]="popUpDetails"
  ></mf-information>
  <mf-drop-down
    class="folder-drop-down"
    *ngIf="showFolderDropDown"
    [menus]="folderDropDownContent"
    (doOnClick)="onClickFolderDropDown($event)"
    (doOnClose)="onFolderDropDownClosed()"
    [animation]="'down'"
    [style.top.px]="folderDropDownPosition[1]"
    [style.left.px]="folderDropDownPosition[0]"
    [dropDownPositionY]="fileDropDownPositionY"
  ></mf-drop-down>
  <mf-drop-down
    class="file-drop-down"
    *ngIf="showFileDropDown"
    [menus]="fileDropDownContent"
    (doOnClick)="onClickFileDropDown($event)"
    (doOnClose)="onFileDropDownClosed()"
    [animation]="'down'"
    [style.top.px]="fileDropDownPosition[1]"
    [style.left.px]="fileDropDownPosition[0]"
    [dropDownPositionY]="fileDropDownPositionY"
  ></mf-drop-down>
  <mf-missing-message-box
    [missingMessageText]="missingMessageText"
    [missingLists]="missingFileAndFolderList"
    *ngIf="isMissingIconClick"
  ></mf-missing-message-box>
  <mf-footer></mf-footer>
</div>
